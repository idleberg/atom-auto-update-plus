"use strict";var e=require("atom"),t=require("path"),n=require("child_process"),r=require("fs"),o=require("os"),i=require("assert"),a=require("events"),s=require("buffer"),c=require("stream"),u=require("util");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var p=l(t),d=l(n),f=l(r),m=l(o),h=l(i),E=l(a),g=l(s),v=l(c),I=l(u);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function y(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function R(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var S="auto-update-plus",w=S;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function b(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}var T=new(function(){function e(e){void 0===e&&(e={}),this.name=e.name,this.styleSheet="\n      background-color: "+(e.backgroundColor||"darkgrey")+";\n      border-radius: 2px;\n      color: "+(e.color||"white")+";\n      line-height: 1.5;\n      padding: 1px 4px;\n      text-shadow: 0 1px 0px rgba(0, 0, 0, 0.2);\n    "}return e.prototype.__console__=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(null===atom||void 0===atom?void 0:atom.inDevMode())&&(n.unshift("%c"+this.name+"%c",this.styleSheet,""),(t=window.console)[e].apply(t,n))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,b(["debug"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,b(["error"],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,b(["info"],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,b(["log"],e))},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,b(["trace"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.__console__.apply(this,b(["warn"],e))},e}())({name:w,backgroundColor:"indianred"}),x=360,O=1,N=5,L=15,A=10080,P={includedPackages:{title:"Included Packages",description:"Comma-delimited list of packages to be included from automatic updates. Don't mix with *Excluded Packages* – included packages take precedence over excluded packages.",type:"array",default:[],order:1},excludedPackages:{title:"Excluded Packages",description:"Comma-delimited list of packages to be excluded from automatic updates. Don't mix with *Included Packages* – included packages take precedence over excluded packages.",type:"array",default:[],order:2},versionRange:{title:"Version Range",description:"Specify a [SemVer](https://semver.org/) range that updates automatically",type:"array",default:["major","minor","patch"],enum:[{value:["patch"],description:"Patch only"},{value:["minor","patch"],description:"Minor or below"},{value:["major","minor","patch"],description:"Major or below (all versions)"},{value:["major","minor"],description:"⚠️ Minor or above"},{value:["major"],description:"⚠️ Major only"}],order:2},updateInterval:{title:"Update Interval",description:"Set the default interval between updates, in minutes",type:"integer",minimum:atom.inDevMode()?1:L,maximum:A,default:x,order:3},pollingInterval:{title:"Polling Interval",description:"Set the polling interval for update checks, in minutes",type:"integer",minimum:O,maximum:N,default:O,order:4},deferInitialization:{title:"Defer Initialization",description:"Set the default timeout for update initialization, in seconds",type:"integer",minimum:atom.inDevMode()?1:5,maximum:120,default:10,order:5},hideUpdateStatusView:{title:"Hide Update Status",description:"Hides Atom's default update indicator in the status bar",type:"boolean",default:!1,order:6},notifications:{title:"Notifications",type:"object",order:7,properties:{notifyOnUpdate:{title:"Notify on Update",description:"Enable to show notifications when packages have been updated",type:"boolean",default:!0,order:1},dismissNotification:{title:"Dismiss Notification",description:"Automatically dismiss the update notification after 5 seconds",type:"boolean",default:!0,order:2},maximumPackageDetail:{title:"Maximum Package Detail",description:"Specify the maximum number of package names displayed in the notification (minimum is 3)",type:"integer",default:5,minimum:3,maximum:20,order:3}}}};function C(e){return void 0===e&&(e=""),(null==e?void 0:e.length)?atom.config.get(S+"."+e):atom.config.get(""+S)}function G(e,t){if(atom.config.get(S+"."+e)&&!atom.config.get(S+"."+t)){try{atom.config.set(S+"."+t,atom.config.get(S+"."+e))}catch(e){return T.error(e),void atom.notifications.addWarning("Failed to migrate configuration, see console for details")}T.warn("The configuration setting '"+e+"' was migrated successfully to '"+t+"'"),atom.config.unset(S+"."+e)}else T.warn("The configuration setting '"+t+"' already exists, skipping migration")}var D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},M={exports:{}},k={exports:{}},j=F;F.sync=function(e,t){return _(U.statSync(e),e,t)};var U=f.default;function _(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var o=n[r].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,n)}function F(e,t,n){U.stat(e,(function(r,o){n(r,!r&&_(o,e,t))}))}var $=V;V.sync=function(e,t){return H(X.statSync(e),t)};var B,X=f.default;function V(e,t,n){X.stat(e,(function(e,r){n(e,!e&&H(r,t))}))}function H(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,o=e.gid,i=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),a=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),s=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=s|c;return n&u||n&c&&o===a||n&s&&r===i||n&l&&0===i}(e,t)}B="win32"===process.platform||D.TESTING_WINDOWS?j:$;var q=K;function K(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){K(e,t||{},(function(e,t){e?r(e):n(t)}))}))}B(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}K.sync=function(e,t){try{return B.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const W="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,z=p.default,Y=W?";":":",Z=q,Q=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),J=(e,t)=>{const n=t.colon||Y,r=e.match(/\//)||W&&e.match(/\\/)?[""]:[...W?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],o=W?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=W?o.split(n):[""];return W&&-1!==e.indexOf(".")&&""!==i[0]&&i.unshift(""),{pathEnv:r,pathExt:i,pathExtExe:o}},ee=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:o,pathExtExe:i}=J(e,t),a=[],s=n=>new Promise(((o,i)=>{if(n===r.length)return t.all&&a.length?o(a):i(Q(e));const s=r[n],u=/^".*"$/.test(s)?s.slice(1,-1):s,l=z.join(u,e),p=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;o(c(p,n,0))})),c=(e,n,r)=>new Promise(((u,l)=>{if(r===o.length)return u(s(n+1));const p=o[r];Z(e+p,{pathExt:i},((o,i)=>{if(!o&&i){if(!t.all)return u(e+p);a.push(e+p)}return u(c(e,n,r+1))}))}));return n?s(0).then((e=>n(null,e)),n):s(0)};var te=ee;ee.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:o}=J(e,t),i=[];for(let a=0;a<n.length;a++){const s=n[a],c=/^".*"$/.test(s)?s.slice(1,-1):s,u=z.join(c,e),l=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let e=0;e<r.length;e++){const n=l+r[e];try{if(Z.sync(n,{pathExt:o})){if(!t.all)return n;i.push(n)}}catch(e){}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw Q(e)};var ne={exports:{}};const re=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};ne.exports=re,ne.exports.default=re;const oe=p.default,ie=te,ae=ne.exports;function se(e,t){const n=e.options.env||process.env,r=process.cwd(),o=null!=e.options.cwd,i=o&&void 0!==process.chdir&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch(e){}let a;try{a=ie.sync(e.command,{path:n[ae({env:n})],pathExt:t?oe.delimiter:void 0})}catch(e){}finally{i&&process.chdir(r)}return a&&(a=oe.resolve(o?e.options.cwd:"",a)),a}var ce=function(e){return se(e)||se(e,!0)},ue={};const le=/([()\][%!^"`<>&|;, *?])/g;ue.command=function(e){return e=e.replace(le,"^$1")},ue.argument=function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(le,"^$1"),t&&(e=e.replace(le,"^$1")),e};const pe=/^#!(.*)/;const de=f.default,fe=(e="")=>{const t=e.match(pe);if(!t)return null;const[n,r]=t[0].replace(/#! ?/,"").split(" "),o=n.split("/").pop();return"env"===o?r:r?`${o} ${r}`:o};var me=function(e){const t=Buffer.alloc(150);let n;try{n=de.openSync(e,"r"),de.readSync(n,t,0,150,0),de.closeSync(n)}catch(e){}return fe(t.toString())};const he=p.default,Ee=ce,ge=ue,ve=me,Ie="win32"===process.platform,ye=/\.(?:com|exe)$/i,Re=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Se(e){if(!Ie)return e;const t=function(e){e.file=Ee(e);const t=e.file&&ve(e.file);return t?(e.args.unshift(e.file),e.command=t,Ee(e)):e.file}(e),n=!ye.test(t);if(e.options.forceShell||n){const n=Re.test(t);e.command=he.normalize(e.command),e.command=ge.command(e.command),e.args=e.args.map((e=>ge.argument(e,n)));const r=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${r}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}var we=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const r={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?r:Se(r)};const be="win32"===process.platform;function Te(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function xe(e,t){return be&&1===e&&!t.file?Te(t.original,"spawn"):null}var Oe={hookChildProcess:function(e,t){if(!be)return;const n=e.emit;e.emit=function(r,o){if("exit"===r){const r=xe(o,t);if(r)return n.call(e,"error",r)}return n.apply(e,arguments)}},verifyENOENT:xe,verifyENOENTSync:function(e,t){return be&&1===e&&!t.file?Te(t.original,"spawnSync"):null},notFoundError:Te};const Ne=d.default,Le=we,Ae=Oe;function Pe(e,t,n){const r=Le(e,t,n),o=Ne.spawn(r.command,r.args,r.options);return Ae.hookChildProcess(o,r),o}k.exports=Pe,k.exports.spawn=Pe,k.exports.sync=function(e,t,n){const r=Le(e,t,n),o=Ne.spawnSync(r.command,r.args,r.options);return o.error=o.error||Ae.verifyENOENTSync(o.status,r),o},k.exports._parse=Le,k.exports._enoent=Ae;var Ce={exports:{}};!function(e){const t=p.default,n=ne.exports,r=e=>{let r;e={cwd:process.cwd(),path:process.env[n()],execPath:process.execPath,...e};let o=t.resolve(e.cwd);const i=[];for(;r!==o;)i.push(t.join(o,"node_modules/.bin")),r=o,o=t.resolve(o,"..");const a=t.resolve(e.cwd,e.execPath,"..");return i.push(a),i.concat(e.path).join(t.delimiter)};e.exports=r,e.exports.default=r,e.exports.env=t=>{const r={...(t={env:process.env,...t}).env},o=n({env:r});return t.path=r[o],r[o]=e.exports(t),r}}(Ce);var Ge={exports:{}},De={exports:{}};const Me=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};De.exports=Me,De.exports.default=Me;const ke=De.exports,je=new WeakMap,Ue=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let n,r=0;const o=e.displayName||e.name||"<anonymous>",i=function(...a){if(je.set(i,++r),1===r)n=e.apply(this,a),e=null;else if(!0===t.throw)throw new Error(`Function \`${o}\` can only be called once`);return n};return ke(i,e),je.set(i,r),i};Ge.exports=Ue,Ge.exports.default=Ue,Ge.exports.callCount=e=>{if(!je.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return je.get(e)};var _e={},Fe={},$e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.SIGNALS=void 0;$e.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.SIGRTMAX=Be.getRealtimeSignals=void 0;Be.getRealtimeSignals=function(){const e=He-Ve+1;return Array.from({length:e},Xe)};const Xe=function(e,t){return{name:`SIGRT${t+1}`,number:Ve+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Ve=34,He=64;Be.SIGRTMAX=He,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.getSignals=void 0;var qe=m.default,Ke=$e,We=Be;Fe.getSignals=function(){const e=(0,We.getRealtimeSignals)();return[...Ke.SIGNALS,...e].map(ze)};const ze=function({name:e,number:t,description:n,action:r,forced:o=!1,standard:i}){const{signals:{[e]:a}}=qe.constants,s=void 0!==a;return{name:e,number:s?a:t,description:n,supported:s,action:r,forced:o,standard:i}};Object.defineProperty(_e,"__esModule",{value:!0}),_e.signalsByNumber=_e.signalsByName=void 0;var Ye=m.default,Ze=Fe,Qe=Be;const Je=function(e,{name:t,number:n,description:r,supported:o,action:i,forced:a,standard:s}){return{...e,[t]:{name:t,number:n,description:r,supported:o,action:i,forced:a,standard:s}}},et=(0,Ze.getSignals)().reduce(Je,{});_e.signalsByName=et;const tt=function(e,t){const n=nt(e,t);if(void 0===n)return{};const{name:r,description:o,supported:i,action:a,forced:s,standard:c}=n;return{[e]:{name:r,number:e,description:o,supported:i,action:a,forced:s,standard:c}}},nt=function(e,t){const n=t.find((({name:t})=>Ye.constants.signals[t]===e));return void 0!==n?n:t.find((t=>t.number===e))},rt=function(){const e=(0,Ze.getSignals)(),t=Qe.SIGRTMAX+1,n=Array.from({length:t},((t,n)=>tt(n,e)));return Object.assign({},...n)}();_e.signalsByNumber=rt;const{signalsByName:ot}=_e;var it=({stdout:e,stderr:t,all:n,error:r,signal:o,exitCode:i,command:a,timedOut:s,isCanceled:c,killed:u,parsed:{options:{timeout:l}}})=>{i=null===i?void 0:i;const p=void 0===(o=null===o?void 0:o)?void 0:ot[o].description,d=`Command ${(({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:o,exitCode:i,isCanceled:a})=>e?`timed out after ${t} milliseconds`:a?"was canceled":void 0!==n?`failed with ${n}`:void 0!==r?`was killed with ${r} (${o})`:void 0!==i?`failed with exit code ${i}`:"failed")({timedOut:s,timeout:l,errorCode:r&&r.code,signal:o,signalDescription:p,exitCode:i,isCanceled:c})}: ${a}`,f="[object Error]"===Object.prototype.toString.call(r),m=f?`${d}\n${r.message}`:d,h=[m,t,e].filter(Boolean).join("\n");return f?(r.originalMessage=r.message,r.message=h):r=new Error(h),r.shortMessage=m,r.command=a,r.exitCode=i,r.signal=o,r.signalDescription=p,r.stdout=e,r.stderr=t,void 0!==n&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(s),r.isCanceled=c,r.killed=u&&!s,r},at={exports:{}};const st=["stdin","stdout","stderr"],ct=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return st.map((t=>e[t]));if((e=>st.some((t=>void 0!==e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${st.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=Math.max(t.length,st.length);return Array.from({length:n},((e,n)=>t[n]))};at.exports=ct,at.exports.node=e=>{const t=ct(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var ut={exports:{}},lt={exports:{}};!function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(lt);var pt,dt=h.default,ft=lt.exports,mt=/^win/i.test(process.platform),ht=E.default;function Et(){It&&(It=!1,ft.forEach((function(e){try{process.removeListener(e,vt[e])}catch(e){}})),process.emit=wt,process.reallyExit=Rt,pt.count-=1)}function gt(e,t,n){pt.emitted[e]||(pt.emitted[e]=!0,pt.emit(e,t,n))}"function"!=typeof ht&&(ht=ht.EventEmitter),process.__signal_exit_emitter__?pt=process.__signal_exit_emitter__:((pt=process.__signal_exit_emitter__=new ht).count=0,pt.emitted={}),pt.infinite||(pt.setMaxListeners(1/0),pt.infinite=!0),ut.exports=function(e,t){dt.equal(typeof e,"function","a callback must be provided for exit handler"),!1===It&&yt();var n="exit";t&&t.alwaysLast&&(n="afterexit");return pt.on(n,e),function(){pt.removeListener(n,e),0===pt.listeners("exit").length&&0===pt.listeners("afterexit").length&&Et()}},ut.exports.unload=Et;var vt={};ft.forEach((function(e){vt[e]=function(){process.listeners(e).length===pt.count&&(Et(),gt("exit",null,e),gt("afterexit",null,e),mt&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),ut.exports.signals=function(){return ft},ut.exports.load=yt;var It=!1;function yt(){It||(It=!0,pt.count+=1,ft=ft.filter((function(e){try{return process.on(e,vt[e]),!0}catch(e){return!1}})),process.emit=bt,process.reallyExit=St)}var Rt=process.reallyExit;function St(e){process.exitCode=e||0,gt("exit",process.exitCode,null),gt("afterexit",process.exitCode,null),Rt.call(process,process.exitCode)}var wt=process.emit;function bt(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var n=wt.apply(this,arguments);return gt("exit",process.exitCode,null),gt("afterexit",process.exitCode,null),n}return wt.apply(this,arguments)}const Tt=m.default,xt=ut.exports,Ot=(e,t,n,r)=>{if(!Nt(t,n,r))return;const o=At(n),i=setTimeout((()=>{e("SIGKILL")}),o);i.unref&&i.unref()},Nt=(e,{forceKillAfterTimeout:t},n)=>Lt(e)&&!1!==t&&n,Lt=e=>e===Tt.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),At=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e};var Pt={spawnedKill:(e,t="SIGTERM",n={})=>{const r=e(t);return Ot(e,t,n,r),r},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(0===t||void 0===t)return r;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let o;const i=new Promise(((r,i)=>{o=setTimeout((()=>{((e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,n,i)}),t)})),a=r.finally((()=>{clearTimeout(o)}));return Promise.race([i,a])},setExitHandler:async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;const o=xt((()=>{e.kill()}));return r.finally((()=>{o()}))}};const Ct=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;Ct.writable=e=>Ct(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,Ct.readable=e=>Ct(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,Ct.duplex=e=>Ct.writable(e)&&Ct.readable(e),Ct.transform=e=>Ct.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState;var Gt=Ct,Dt={exports:{}};const{PassThrough:Mt}=v.default;const{constants:kt}=g.default,jt=v.default,{promisify:Ut}=I.default,_t=e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const r="buffer"===n;let o=!1;t?o=!(n||r):n=n||"utf8",r&&(n=null);const i=new Mt({objectMode:o});n&&i.setEncoding(n);let a=0;const s=[];return i.on("data",(e=>{s.push(e),o?a=s.length:a+=e.length})),i.getBufferedValue=()=>t?s:r?Buffer.concat(s,a):s.join(""),i.getBufferedLength=()=>a,i},Ft=Ut(jt.pipeline);class $t extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function Bt(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:n}=t,r=_t(t);return await new Promise(((t,o)=>{const i=e=>{e&&r.getBufferedLength()<=kt.MAX_LENGTH&&(e.bufferedData=r.getBufferedValue()),o(e)};(async()=>{try{await Ft(e,r),t()}catch(e){i(e)}})(),r.on("data",(()=>{r.getBufferedLength()>n&&i(new $t)}))})),r.getBufferedValue()}Dt.exports=Bt,Dt.exports.buffer=(e,t)=>Bt(e,{...t,encoding:"buffer"}),Dt.exports.array=(e,t)=>Bt(e,{...t,array:!0}),Dt.exports.MaxBufferError=$t;const{PassThrough:Xt}=v.default;const Vt=Gt,Ht=Dt.exports,qt=function(){var e=[],t=new Xt({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=r,t.on("unpipe",o),Array.prototype.slice.call(arguments).forEach(n),t;function n(r){return Array.isArray(r)?(r.forEach(n),this):(e.push(r),r.once("end",o.bind(null,r)),r.once("error",t.emit.bind(t,"error")),r.pipe(t,{end:!1}),this)}function r(){return 0==e.length}function o(n){!(e=e.filter((function(e){return e!==n}))).length&&t.readable&&t.end()}},Kt=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},Wt=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(e&&n)return t?Ht(e,{encoding:t,maxBuffer:r}):Ht.buffer(e,{maxBuffer:r})};var zt={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(Vt(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const n=qt();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},getSpawnedResult:async({stdout:e,stderr:t,all:n},{encoding:r,buffer:o,maxBuffer:i},a)=>{const s=Wt(e,{encoding:r,buffer:o,maxBuffer:i}),c=Wt(t,{encoding:r,buffer:o,maxBuffer:i}),u=Wt(n,{encoding:r,buffer:o,maxBuffer:2*i});try{return await Promise.all([a,s,c,u])}catch(r){return Promise.all([{error:r,signal:r.signal,timedOut:r.timedOut},Kt(e,s),Kt(t,c),Kt(n,u)])}},validateInputSync:({input:e})=>{if(Vt(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}};const Yt=(async()=>{})().constructor.prototype,Zt=["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(Yt,e)]));var Qt={mergePromise:(e,t)=>{for(const[n,r]of Zt){const o="function"==typeof t?(...e)=>Reflect.apply(r.value,t(),e):r.value.bind(t);Reflect.defineProperty(e,n,{...r,value:o})}return e},getSpawnedPromise:e=>new Promise(((t,n)=>{e.on("exit",((e,n)=>{t({exitCode:e,signal:n})})),e.on("error",(e=>{n(e)})),e.stdin&&e.stdin.on("error",(e=>{n(e)}))}))};const Jt=/ +/g;var en={joinCommand:(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,parseCommand:e=>{const t=[];for(const n of e.trim().split(Jt)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${n}`:t.push(n)}return t}};const tn=p.default,nn=d.default,rn=k.exports,on=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e},an=Ce.exports,sn=Ge.exports,cn=it,un=at.exports,{spawnedKill:ln,spawnedCancel:pn,setupTimeout:dn,setExitHandler:fn}=Pt,{handleInput:mn,getSpawnedResult:hn,makeAllStream:En,validateInputSync:gn}=zt,{mergePromise:vn,getSpawnedPromise:In}=Qt,{joinCommand:yn,parseCommand:Rn}=en,Sn=(e,t,n={})=>{const r=rn._parse(e,t,n);return e=r.command,t=r.args,(n={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(n=r.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n}).env=(({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:o})=>{const i=t?{...process.env,...e}:e;return n?an.env({env:i,cwd:r,execPath:o}):i})(n),n.stdio=un(n),"win32"===process.platform&&"cmd"===tn.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},wn=(e,t,n)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?on(t):t:void 0===n?void 0:"",bn=(e,t,n)=>{const r=Sn(e,t,n),o=yn(e,t);let i;try{i=nn.spawn(r.file,r.args,r.options)}catch(e){const t=new nn.ChildProcess,n=Promise.reject(cn({error:e,stdout:"",stderr:"",all:"",command:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return vn(t,n)}const a=In(i),s=dn(i,r.options,a),c=fn(i,r.options,s),u={isCanceled:!1};i.kill=ln.bind(null,i.kill.bind(i)),i.cancel=pn.bind(null,i,u);const l=sn((async()=>{const[{error:e,exitCode:t,signal:n,timedOut:a},s,l,p]=await hn(i,r.options,c),d=wn(r.options,s),f=wn(r.options,l),m=wn(r.options,p);if(e||0!==t||null!==n){const s=cn({error:e,exitCode:t,signal:n,stdout:d,stderr:f,all:m,command:o,parsed:r,timedOut:a,isCanceled:u.isCanceled,killed:i.killed});if(!r.options.reject)return s;throw s}return{command:o,exitCode:0,stdout:d,stderr:f,all:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return mn(i,r.options.input),i.all=En(i,r.options),vn(i,l)};M.exports=bn,M.exports.sync=(e,t,n)=>{const r=Sn(e,t,n),o=yn(e,t);let i;gn(r.options);try{i=nn.spawnSync(r.file,r.args,r.options)}catch(e){throw cn({error:e,stdout:"",stderr:"",all:"",command:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}const a=wn(r.options,i.stdout,i.error),s=wn(r.options,i.stderr,i.error);if(i.error||0!==i.status||null!==i.signal){const e=cn({stdout:a,stderr:s,error:i.error,signal:i.signal,exitCode:i.status,command:o,parsed:r,timedOut:i.error&&"ETIMEDOUT"===i.error.code,isCanceled:!1,killed:null!==i.signal});if(!r.options.reject)return e;throw e}return{command:o,exitCode:0,stdout:a,stderr:s,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},M.exports.command=(e,t)=>{const[n,...r]=Rn(e);return bn(n,r,t)},M.exports.commandSync=(e,t)=>{const[n,...r]=Rn(e);return bn.sync(n,r,t)},M.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(n=t,t=[]);const r=un.node(n),o=process.execArgv.filter((e=>!e.startsWith("--inspect"))),{nodePath:i=process.execPath,nodeOptions:a=o}=n;return bn(i,[...a,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})};var Tn=M.exports,xn={exports:{}};!function(e,t){var n;t=xn.exports=p,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],a=t.tokens={},s=0;function c(e){a[e]=s++}c("NUMERICIDENTIFIER"),i[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),i[a.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),i[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),i[a.MAINVERSION]="("+i[a.NUMERICIDENTIFIER]+")\\.("+i[a.NUMERICIDENTIFIER]+")\\.("+i[a.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),i[a.MAINVERSIONLOOSE]="("+i[a.NUMERICIDENTIFIERLOOSE]+")\\.("+i[a.NUMERICIDENTIFIERLOOSE]+")\\.("+i[a.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),i[a.PRERELEASEIDENTIFIER]="(?:"+i[a.NUMERICIDENTIFIER]+"|"+i[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),i[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+i[a.NUMERICIDENTIFIERLOOSE]+"|"+i[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),i[a.PRERELEASE]="(?:-("+i[a.PRERELEASEIDENTIFIER]+"(?:\\."+i[a.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),i[a.PRERELEASELOOSE]="(?:-?("+i[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+i[a.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),i[a.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),i[a.BUILD]="(?:\\+("+i[a.BUILDIDENTIFIER]+"(?:\\."+i[a.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),i[a.FULLPLAIN]="v?"+i[a.MAINVERSION]+i[a.PRERELEASE]+"?"+i[a.BUILD]+"?",i[a.FULL]="^"+i[a.FULLPLAIN]+"$",c("LOOSEPLAIN"),i[a.LOOSEPLAIN]="[v=\\s]*"+i[a.MAINVERSIONLOOSE]+i[a.PRERELEASELOOSE]+"?"+i[a.BUILD]+"?",c("LOOSE"),i[a.LOOSE]="^"+i[a.LOOSEPLAIN]+"$",c("GTLT"),i[a.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),i[a.XRANGEIDENTIFIERLOOSE]=i[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),i[a.XRANGEIDENTIFIER]=i[a.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),i[a.XRANGEPLAIN]="[v=\\s]*("+i[a.XRANGEIDENTIFIER]+")(?:\\.("+i[a.XRANGEIDENTIFIER]+")(?:\\.("+i[a.XRANGEIDENTIFIER]+")(?:"+i[a.PRERELEASE]+")?"+i[a.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),i[a.XRANGEPLAINLOOSE]="[v=\\s]*("+i[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[a.XRANGEIDENTIFIERLOOSE]+")(?:"+i[a.PRERELEASELOOSE]+")?"+i[a.BUILD]+"?)?)?",c("XRANGE"),i[a.XRANGE]="^"+i[a.GTLT]+"\\s*"+i[a.XRANGEPLAIN]+"$",c("XRANGELOOSE"),i[a.XRANGELOOSE]="^"+i[a.GTLT]+"\\s*"+i[a.XRANGEPLAINLOOSE]+"$",c("COERCE"),i[a.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),o[a.COERCERTL]=new RegExp(i[a.COERCE],"g"),c("LONETILDE"),i[a.LONETILDE]="(?:~>?)",c("TILDETRIM"),i[a.TILDETRIM]="(\\s*)"+i[a.LONETILDE]+"\\s+",o[a.TILDETRIM]=new RegExp(i[a.TILDETRIM],"g");c("TILDE"),i[a.TILDE]="^"+i[a.LONETILDE]+i[a.XRANGEPLAIN]+"$",c("TILDELOOSE"),i[a.TILDELOOSE]="^"+i[a.LONETILDE]+i[a.XRANGEPLAINLOOSE]+"$",c("LONECARET"),i[a.LONECARET]="(?:\\^)",c("CARETTRIM"),i[a.CARETTRIM]="(\\s*)"+i[a.LONECARET]+"\\s+",o[a.CARETTRIM]=new RegExp(i[a.CARETTRIM],"g");c("CARET"),i[a.CARET]="^"+i[a.LONECARET]+i[a.XRANGEPLAIN]+"$",c("CARETLOOSE"),i[a.CARETLOOSE]="^"+i[a.LONECARET]+i[a.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),i[a.COMPARATORLOOSE]="^"+i[a.GTLT]+"\\s*("+i[a.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),i[a.COMPARATOR]="^"+i[a.GTLT]+"\\s*("+i[a.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),i[a.COMPARATORTRIM]="(\\s*)"+i[a.GTLT]+"\\s*("+i[a.LOOSEPLAIN]+"|"+i[a.XRANGEPLAIN]+")",o[a.COMPARATORTRIM]=new RegExp(i[a.COMPARATORTRIM],"g");c("HYPHENRANGE"),i[a.HYPHENRANGE]="^\\s*("+i[a.XRANGEPLAIN]+")\\s+-\\s+("+i[a.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),i[a.HYPHENRANGELOOSE]="^\\s*("+i[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+i[a.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),i[a.STAR]="(<|>)?=?\\s*\\*";for(var u=0;u<s;u++)n(u,i[u]),o[u]||(o[u]=new RegExp(i[u]));function l(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof p)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[a.LOOSE]:o[a.FULL]).test(e))return null;try{return new p(e,t)}catch(e){return null}}function p(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof p){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof p))return new p(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=l,t.valid=function(e,t){var n=l(e,t);return n?n.version:null},t.clean=function(e,t){var n=l(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=p,p.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},p.prototype.toString=function(){return this.version},p.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof p||(e=new p(e,this.options)),this.compareMain(e)||this.comparePre(e)},p.prototype.compareMain=function(e){return e instanceof p||(e=new p(e,this.options)),f(this.major,e.major)||f(this.minor,e.minor)||f(this.patch,e.patch)},p.prototype.comparePre=function(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return f(r,o)}while(++t)},p.prototype.compareBuild=function(e){e instanceof p||(e=new p(e,this.options));var t=0;do{var r=this.build[t],o=e.build[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return f(r,o)}while(++t)},p.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new p(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(g(e,t))return null;var n=l(e),r=l(t),o="";if(n.prerelease.length||r.prerelease.length){o="pre";var i="prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==r[a])return o+a;return i},t.compareIdentifiers=f;var d=/^[0-9]+$/;function f(e,t){var n=d.test(e),r=d.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function m(e,t,n){return new p(e,n).compare(new p(t,n))}function h(e,t,n){return m(e,t,n)>0}function E(e,t,n){return m(e,t,n)<0}function g(e,t,n){return 0===m(e,t,n)}function v(e,t,n){return 0!==m(e,t,n)}function I(e,t,n){return m(e,t,n)>=0}function y(e,t,n){return m(e,t,n)<=0}function R(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return g(e,n,r);case"!=":return v(e,n,r);case">":return h(e,n,r);case">=":return I(e,n,r);case"<":return E(e,n,r);case"<=":return y(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function S(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof S){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof S))return new S(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===w?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return f(t,e)},t.major=function(e,t){return new p(e,t).major},t.minor=function(e,t){return new p(e,t).minor},t.patch=function(e,t){return new p(e,t).patch},t.compare=m,t.compareLoose=function(e,t){return m(e,t,!0)},t.compareBuild=function(e,t,n){var r=new p(e,n),o=new p(t,n);return r.compare(o)||r.compareBuild(o)},t.rcompare=function(e,t,n){return m(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compareBuild(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.compareBuild(r,e,n)}))},t.gt=h,t.lt=E,t.eq=g,t.neq=v,t.gte=I,t.lte=y,t.cmp=R,t.Comparator=S;var w={};function b(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof b)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new b(e.raw,t);if(e instanceof S)return new b(e.value,t);if(!(this instanceof b))return new b(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function T(e,t){for(var n=!0,r=e.slice(),o=r.pop();n&&r.length;)n=r.every((function(e){return o.intersects(e,t)})),o=r.pop();return n}function x(e){return!e||"x"===e.toLowerCase()||"*"===e}function O(e,t,n,r,o,i,a,s,c,u,l,p,d){return((t=x(n)?"":x(r)?">="+n+".0.0":x(o)?">="+n+"."+r+".0":">="+t)+" "+(s=x(c)?"":x(u)?"<"+(+c+1)+".0.0":x(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+s)).trim()}function N(e,t,r){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(o=0;o<e.length;o++)if(n(e[o].semver),e[o].semver!==w&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function L(e,t,n){try{t=new b(t,n)}catch(e){return!1}return t.test(e)}function A(e,t,n,r){var o,i,a,s,c;switch(e=new p(e,r),t=new b(t,r),n){case">":o=h,i=y,a=E,s=">",c=">=";break;case"<":o=E,i=I,a=h,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(L(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],d=null,f=null;if(l.forEach((function(e){e.semver===w&&(e=new S(">=0.0.0")),d=d||e,f=f||e,o(e.semver,d.semver,r)?d=e:a(e.semver,f.semver,r)&&(f=e)})),d.operator===s||d.operator===c)return!1;if((!f.operator||f.operator===s)&&i(e,f.semver))return!1;if(f.operator===c&&a(e,f.semver))return!1}return!0}S.prototype.parse=function(e){var t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new p(n[2],this.options.loose):this.semver=w},S.prototype.toString=function(){return this.value},S.prototype.test=function(e){if(n("Comparator.test",e,this.options.loose),this.semver===w||e===w)return!0;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}return R(e,this.operator,this.semver,this.options)},S.prototype.intersects=function(e,t){if(!(e instanceof S))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(n=new b(e.value,t),L(this.value,n,t));if(""===e.operator)return""===e.value||(n=new b(this.value,t),L(e.semver,n,t));var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=R(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=R(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||i&&a||s||c},t.Range=b,b.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},b.prototype.toString=function(){return this.range},b.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?o[a.HYPHENRANGELOOSE]:o[a.HYPHENRANGE];e=e.replace(r,O),n("hyphen replace",e),e=e.replace(o[a.COMPARATORTRIM],"$1$2$3"),n("comparator trim",e,o[a.COMPARATORTRIM]),e=(e=(e=e.replace(o[a.TILDETRIM],"$1~")).replace(o[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?o[a.CARETLOOSE]:o[a.CARET];return e.replace(r,(function(t,r,o,i,a){var s;return n("caret",e,t,r,o,i,a),x(r)?s="":x(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":x(i)?s="0"===r?">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":">="+r+"."+o+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),s="0"===r?"0"===o?">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+"-"+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===o?">="+r+"."+o+"."+i+" <"+r+"."+o+"."+(+i+1):">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0":">="+r+"."+o+"."+i+" <"+(+r+1)+".0.0"),n("caret return",s),s}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?o[a.TILDELOOSE]:o[a.TILDE];return e.replace(r,(function(t,r,o,i,a){var s;return n("tilde",e,t,r,o,i,a),x(r)?s="":x(o)?s=">="+r+".0.0 <"+(+r+1)+".0.0":x(i)?s=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0":a?(n("replaceTilde pr",a),s=">="+r+"."+o+"."+i+"-"+a+" <"+r+"."+(+o+1)+".0"):s=">="+r+"."+o+"."+i+" <"+r+"."+(+o+1)+".0",n("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?o[a.XRANGELOOSE]:o[a.XRANGE];return e.replace(r,(function(r,o,i,a,s,c){n("xRange",e,r,o,i,a,s,c);var u=x(i),l=u||x(a),p=l||x(s),d=p;return"="===o&&d&&(o=""),c=t.includePrerelease?"-0":"",u?r=">"===o||"<"===o?"<0.0.0-0":"*":o&&d?(l&&(a=0),s=0,">"===o?(o=">=",l?(i=+i+1,a=0,s=0):(a=+a+1,s=0)):"<="===o&&(o="<",l?i=+i+1:a=+a+1),r=o+i+"."+a+"."+s+c):l?r=">="+i+".0.0"+c+" <"+(+i+1)+".0.0"+c:p&&(r=">="+i+"."+a+".0"+c+" <"+i+"."+(+a+1)+".0"+c),n("xRange return",r),r}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(o[a.STAR],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(i)}))),s=s.map((function(e){return new S(e,this.options)}),this)},b.prototype.intersects=function(e,t){if(!(e instanceof b))throw new TypeError("a Range is required");return this.set.some((function(n){return T(n,t)&&e.set.some((function(e){return T(e,t)&&n.every((function(n){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new b(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},b.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(N(this.set[t],e,this.options))return!0;return!1},t.satisfies=L,t.maxSatisfying=function(e,t,n){var r=null,o=null;try{var i=new b(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&-1!==o.compare(e)||(o=new p(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,o=null;try{var i=new b(t,n)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(r&&1!==o.compare(e)||(o=new p(r=e,n)))})),r},t.minVersion=function(e,t){e=new b(e,t);var n=new p("0.0.0");if(e.test(n))return n;if(n=new p("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r){e.set[r].forEach((function(e){var t=new p(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!h(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(n&&e.test(n))return n;return null},t.validRange=function(e,t){try{return new b(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return A(e,t,"<",n)},t.gtr=function(e,t,n){return A(e,t,">",n)},t.outside=A,t.prerelease=function(e,t){var n=l(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new b(e,n),t=new b(t,n),e.intersects(t)},t.coerce=function(e,t){if(e instanceof p)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var n=null;if((t=t||{}).rtl){for(var r;(r=o[a.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),o[a.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;o[a.COERCERTL].lastIndex=-1}else n=e.match(o[a.COERCE]);if(null===n)return null;return l(n[2]+"."+(n[3]||"0")+"."+(n[4]||"0"),t)}}(0,xn.exports);const On=xn.exports;var Nn={busySignal:null,serviceName:"busy-signal",consumer:function(t){var n=this;return this.busySignal=t.create(),new e.Disposable((function(){n.busySignal=null}))},add:function(e){try{this.busySignal.add(e)}catch(e){T.log("Busy Signal has failed",e)}},remove:function(e){void 0===e&&(e="");try{this.busySignal.remove(e)}catch(e){T.log("Busy Signal has failed",e)}},clear:function(){try{this.busySignal.clear()}catch(e){T.log("Busy Signal has failed",e)}},dispose:function(){try{this.busySignal.dispose()}catch(e){T.log("Busy Signal has failed",e)}}},Ln={timeout:3e5};function An(e){T.log(e?"Hiding update indicator":"Showing update indicator"),document.querySelector("style#"+w)||document.head.insertAdjacentHTML("beforeend",'<style id="'+w+'"></style>'),document.querySelector("style#"+w).textContent="\n    .package-updates-status-view {\n      display: "+(e?"none !important;":"inline")+"\n     }\n  "}function Pn(e){return void 0===e&&(e=!1),y(this,void 0,void 0,(function(){var t,n,r=this;return R(this,(function(o){switch(o.label){case 0:if(!e&&!function(){var e=Math.floor((new Date).getTime()/1e3),t=(o=localStorage.getItem(w+".lastUpdateTime"),o?Math.floor(new Date(o).getTime()/1e3):0),n=60*Number(C("updateInterval")),r=e-t;var o;if(n>=r)return T.log("The next update is due in "+Math.round((n-r)/60)+" minutes"),!1;return T.log("The next update is due now"),!0}())return[2];t="Checking for updates",Nn.add(t),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Mn()];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),Nn.remove(t),atom.notifications.addError("Could not retrieve outdated packages, see the console for details"),[2];case 4:return n.length?[4,Promise.allSettled(n.map((function(e){return y(r,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return[4,Gn(e)];case 1:return[2,t.sent()]}}))}))})))]:(T.log("No outdated packages found"),Cn(),Nn.remove(t),[2]);case 5:return function(e){var t=C().notifications;if(!t.notifyOnUpdate)return;var n=["Automatically updated"],r=e.slice(0,t.maximumPackageDetail).map((function(e){return"**"+e+"**"})),o=e.slice(t.maximumPackageDetail);e.length>t.maximumPackageDetail&&o.length&&r.push(o.length+" other "+(o.length>1?"packages":"package"));n.push(Dn(r));var i=atom.notifications.addSuccess(n.join(" "),{dismissable:!t.dismissNotification,buttons:!t.dismissNotification&&[{text:"Restart",onDidClick:function(){return y(this,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return i.dismiss(),[4,atom.restartApplication()];case 1:return e.sent(),[2]}}))}))}},{text:"Cancel",onDidClick:function(){i.dismiss()}}]})}(o.sent().filter((function(e){return e})).map((function(e){return e.value}))),Cn(),Nn.remove(t),[2]}}))}))}function Cn(){var e=(new Date).toISOString();T.log("Setting lastUpdateTime to",e),localStorage.setItem(w+".lastUpdateTime",e)}function Gn(e){return y(this,void 0,void 0,(function(){var t,n;return R(this,(function(r){switch(r.label){case 0:t=atom.packages.getApmPath(),r.label=1;case 1:return r.trys.push([1,3,,4]),T.log("Updating '"+e+"'"+(e===w?", hey that's me!":"")),[4,Tn(t,["update",e,"--no-confirm"],Ln)];case 2:return r.sent(),[3,4];case 3:throw r.sent(),n="Failed to install '"+e+"'",T.error(n),Error(n);case 4:return[2,e]}}))}))}function Dn(e){if(1===e.length)return e[0];var t=e.splice(-1,1),n=e.join(", ");return n+=" and "+t}function Mn(){return y(this,void 0,void 0,(function(){var e,t,n,r,o,i,a;return R(this,(function(s){switch(s.label){case 0:T.log("Retrieving outdated packages"),e=atom.packages.getApmPath(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Tn(e,["update","--compatible","--json","--list"],Ln)];case 2:return t=s.sent(),[3,4];case 3:throw n=s.sent(),Error(n.message);case 4:return r=JSON.parse(t.stdout).map((function(e){return{name:e.name,version:e.version,latestVersion:e.latestVersion}})).filter((function(e){return function(e){return C("versionRange").includes(((e,t)=>{if(e=On.parse(e),t=On.parse(t),!(On.compareBuild(e,t)>=0))return On.diff(e,t)||"build"})(e.version,e.latestVersion))}(e)}))||[],o=C(),i=o.includedPackages,a=o.excludedPackages,i.length?(T.log("Including packages for update: "+Dn(i)),r=r.filter((function(e){return i.includes(e.name)}))):a.length&&(T.log("Excluding packages from update: "+Dn(a)),r=r.filter((function(e){return!a.includes(e.name)}))),[2,r.map((function(e){return e.name}))]}}))}))}function kn(){var e=C(),t=e.includedPackages,n=e.excludedPackages;t.length&&n.length&&atom.notifications.addWarning("The `includedPackages` and `excludedPackages` settings are in conflict, you can only use one of them.",{dismissable:!0})}var jn={config:P,subscriptions:new e.CompositeDisposable,updateInterval:null,activate:function(){var e=this;T.log("Activating package"),this.subscriptions.add(atom.commands.add("atom-workspace",{"auto-update-plus:update-now":function(){return y(e,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,Pn(!0)];case 1:return e.sent(),[2]}}))}))}}),atom.config.observe(w+".includedPackages",kn),atom.config.observe(w+".excludedPackages",kn),atom.config.observe(w+".hideUpdateStatusView",An),atom.config.onDidChange(w+".updateInterval",(function(t){var n=t.newValue;return e.changeInterval("update",n)})),atom.config.onDidChange(w+".pollingInterval",(function(t){var n=t.newValue;return e.changeInterval("polling",n)}))),this.migrate();var t=C();T.log("Defering action by "+t.deferInitialization+" seconds"),setTimeout((function(){return y(e,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,Pn()];case 1:return e.sent(),this.enableUpdateInterval(),[2]}}))}))}),1e3*t.deferInitialization)},migrate:function(){G("dismissNotification","notifications.dismissNotification"),G("maximumPackageDetail","notifications.maximumPackageDetail"),G("updateNotification","notifications.notifyOnUpdate"),G("intervalMinutes","updateInterval"),function(e){void 0===e&&(e="");var t=(null==e?void 0:e.length)?S+"."+e:S;T.log("Unsetting configuration setting '"+t),atom.config.unset(t)}("notificationStyle")},enableUpdateInterval:function(){var e=this,t=Number(C("pollingInterval"));T.log("Setting new polling interval to "+t+" "+(1===t?"minute":"minutes")),this.updateInterval=setInterval((function(){return y(e,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,Pn()];case 1:return e.sent(),[2]}}))}))}),60*t*1e3)},clearUpdateInterval:function(){T.log("Clearing polling interval"),this.updateInterval&&clearInterval(this.updateInterval),this.updateInterval=null},changeInterval:function(e,t){T.log("Changed "+e+" interval to "+t+" minutes"),this.clearUpdateInterval(),this.enableUpdateInterval()},consumeSignal:function(e){T.log("Consuming Busy Signal service"),Nn.consumer(e)},deactivate:function(){var e;T.log("Deactivating package"),null===(e=this.subscriptions)||void 0===e||e.dispose()}};module.exports=jn;
